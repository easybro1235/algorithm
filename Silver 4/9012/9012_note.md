# 🏷️ [BOJ 9012] 괄호
- **링크:** https://www.acmicpc.net/problem/9012
- **분류:** 자료 구조, 문자열, 스택
- **체감 난이도:** ⭐⭐⭐ (스택 로직 자체는 쉬웠으나 초기화 이슈로 고생함)

## 1. 🧠 기본적인 접근 방식 (의사코드/흐름)
1. 테스트 케이스 개수(`num`)만큼 `while`문을 돌리며 문자열을 하나씩 받는다.
2. 문자열을 `for(char c : k)`로 순회한다.
3. `(` 는 스택에 무조건 `push` 한다.
4. `)` 가 나오면 스택이 비어있는지 확인한다. 
   - 비어있다면 짝이 안 맞는 것이므로 `ok = false` 처리 후 루프 탈출(`break`).
   - 비어있지 않다면 정상적인 짝이므로 `pop`.
5. 순회가 다 끝났는데 스택에 `(`가 남아있거나, 플래그가 `false`라면 `NO` 출력.

## 2. 💻 핵심 작동 코드
> *여는 괄호와 닫는 괄호의 처리를 명확히 보여주는 핵심 로직*

```cpp
for (char c : k) {
    if (c == '(') {
        st.push(c);
    } 
    else { // 닫는 괄호 ')'
        if (st.empty()) {
            ok = false; // 매칭할 '('가 없음 (불량)
            break;
        }
        st.pop();
    }
}
```

## 3. 🛡️ 예외 처리 및 코너 케이스 (Corner Case)
- **예외 1 (시작부터 불량):** 텅 빈 스택에 닫는 괄호 `)` 가 먼저 들어오는 경우. (이때 `pop`이나 `top`을 무작정 호출하면 런타임 에러가 나므로 반드시 `empty()` 체크를 먼저 해야 함)
- **예외 2 (끝났는데 불량):** `((()` 처럼 여는 괄호가 더 많아서, 순회가 다 끝났음에도 스택에 `(` 찌꺼기가 남아있는 경우. (for문 종료 후 `!st.empty()` 체크 필수)

## 4. 🚨 나의 오답 노트 & 실수하기 쉬운 부분
- **실수 1 (치명적): 테스트 케이스 반복문 안에서의 초기화 위치 누락!**
  - **증상:** `bool ok = true;`나 `stack<char> st;`를 `while(num--)` 바깥쪽(즉, `main` 함수 직후)에 선언하는 실수를 함.
  - **문제점:** 첫 번째 테스트 케이스에서 `ok = false`가 되어버리면, 다음 턴에 멀쩡한 괄호가 들어와도 `ok`가 다시 `true`로 돌아오지 못하고 계속 `NO`만 출력하는 대참사 발생.
  - **해결책:** 여러 번 반복되는 테스트 케이스 문제에서는 **반드시 반복문(`while`) 바로 안쪽 첫 줄에서 변수와 자료구조를 새로 선언(초기화)**해야 매 턴마다 깨끗한 도화지 상태로 시작할 수 있다.

## 5. ⏱️ 복잡도 분석
- **시간 복잡도:** $O(N)$ (길이 N의 문자열을 한 번씩만 순회함)
- **공간 복잡도:** $O(N)$ (최악의 경우 문자열 전체가 여는 괄호일 때 스택에 쌓임)